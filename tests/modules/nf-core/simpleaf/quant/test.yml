- name: simpleaf quant test_simpleaf_quant
  command: nextflow run ./tests/modules/nf-core/simpleaf/quant -entry test_simpleaf_quant -c ./tests/config/nextflow.config
  tags:
    - simpleaf
    - simpleaf/quant
  files:
    - path: output/simpleaf/human/index/complete_ref_lens.bin
      md5sum: 83d53fa7048affe5dfba4ba38f84fd5c
    - path: output/simpleaf/human/index/ctable.bin
    - path: output/simpleaf/human/index/ctg_offsets.bin
      md5sum: c37313b499eb0dc580d962b82ac63f9e
    - path: output/simpleaf/human/index/duplicate_clusters.tsv
      md5sum: c96ca031de4888558eec24fd13bd1c9b
    - path: output/simpleaf/human/index/info.json
      md5sum: fbed11b7c923fb6b4e7a9aab49b08ce5
    - path: output/simpleaf/human/index/mphf.bin
      md5sum: c7ae1b883f0987fedc8bb61e139136a7
    - path: output/simpleaf/human/index/pos.bin
    - path: output/simpleaf/human/index/pre_indexing.log
    - path: output/simpleaf/human/index/rank.bin
      md5sum: 3b5c31ce5d3423b15687c59220d8ef3f
    - path: output/simpleaf/human/index/refAccumLengths.bin
      md5sum: ba84af8bcdfe540fb66a59d623f7dfde
    - path: output/simpleaf/human/index/ref_indexing.log
    - path: output/simpleaf/human/index/reflengths.bin
      md5sum: 83d53fa7048affe5dfba4ba38f84fd5c
    - path: output/simpleaf/human/index/refseq.bin
      md5sum: 64dc6c4822b648c2f36c7934ea9eeeed
    - path: output/simpleaf/human/index/seq.bin
    - path: output/simpleaf/human/index/simpleaf_index.json
      md5sum: d36bf6f7cf364533bd6e545ddc16099f
    - path: output/simpleaf/human/index/t2g_3col.tsv
    - path: output/simpleaf/human/index/versionInfo.json
      md5sum: f06db51ed32dec928fe518075deb4f2e
    - path: output/simpleaf/human/index_info.json
      md5sum: 9f2d8915f5e7e3d8e66ed6a7b50a1e7b
    - path: output/simpleaf/human/ref/gene_id_to_name.tsv
    - path: output/simpleaf/human/ref/roers_make-ref.json
      md5sum: 2b2c8bc03ff255fa2a6b52d9592ee64a
    - path: output/simpleaf/human/ref/roers_ref.fa
      md5sum: b75f577627e23bd7708e2c0276a5299b
    - path: output/simpleaf/human/ref/t2g_3col.tsv
    - path: output/simpleaf/human/simpleaf_index_log.json
    - path: output/simpleaf/test_10x/af_map/alevin/alevin.log
      contains:
        - "parsing read library format"
    - path: output/simpleaf/test_10x/af_map/aux_info/meta_info.json
      contains:
        - "eeb564b47803fd3415a7ef3cca89695fcc0f52dd30eebc381846ff92d7f2c077"
    - path: output/simpleaf/test_10x/af_map/cmd_info.json
      contains:
        - "test_10x/af_map"
    - path: output/simpleaf/test_10x/af_map/logs/salmon_quant.log
      contains:
        - "Number uniquely mapped : 11"
    - path: output/simpleaf/test_10x/af_map/map.rad
      md5sum: 93ea1875bc36d769ba060d8b38f40aa1
    - path: output/simpleaf/test_10x/af_map/unmapped_bc_count.bin
      md5sum: 7d0f401573b121914df1ef036405187c
    - path: output/simpleaf/test_10x/af_quant/alevin/quants_mat.mtx
      contains:
        - "7 21 7"
    - path: output/simpleaf/test_10x/af_quant/alevin/quants_mat_cols.txt
      contains:
        - "ENSG00000283633"
    - path: output/simpleaf/test_10x/af_quant/alevin/quants_mat_rows.txt
      md5sum: 78e92f0584cc4132374ea7f8fcc1bf1f
    - path: output/simpleaf/test_10x/af_quant/all_freq.bin
      md5sum: ff6a60def164baabaecc05e10b4ac397
    - path: output/simpleaf/test_10x/af_quant/collate.json
      contains:
        - "alevin-fry collate"
    - path: output/simpleaf/test_10x/af_quant/featureDump.txt
      md5sum: 8a337c9fa0660d108dcc0955fcd03b52
    - path: output/simpleaf/test_10x/af_quant/generate_permit_list.json
      md5sum: 777485ab9d76ce3cb785ccd648513c5b
    - path: output/simpleaf/test_10x/af_quant/map.collated.rad
      md5sum: bbad29bd96cb245d1893361be81b0ca3
    - path: output/simpleaf/test_10x/af_quant/permit_freq.bin
      md5sum: bfddd006392e272c24849861597c34b4
    - path: output/simpleaf/test_10x/af_quant/permit_map.bin
    - path: output/simpleaf/test_10x/af_quant/quant.json
      contains:
        - "alevin-fry quant -i test_10x/af_quant"
    - path: output/simpleaf/test_10x/af_quant/unmapped_bc_count_collated.bin
    - path: output/simpleaf/test_10x/simpleaf_quant_log.json
      contains:
        - "subsampled_5k_human_antiCMV_T_TBNK_connect_GEX_1_S1_L001_R2_001.fastq.gz"
    - path: output/simpleaf/versions.yml
